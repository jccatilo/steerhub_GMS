import"./modulepreload-polyfill-B5Qt9EMX.js";import{T as c}from"./bootstrap.esm-D_59DZ1Y.js";document.addEventListener("DOMContentLoaded",()=>{const r=new URLSearchParams(window.location.search).get("token");document.getElementById("resetForm").addEventListener("submit",async s=>{s.preventDefault();const t=document.getElementById("password").value;try{const e=await fetch("http://localhost:81/research-center/reset-password/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,new_password:t})});if(e.ok)alert("Password reset successful!"),window.location.href="../../pages/research-center-login/index.html";else{const o=await e.json();alert(`Error: ${o.detail}`)}}catch(e){console.error("Error:",e),alert("An error occurred. Please try again.")}})});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("loginForm"),r=document.getElementById("resetToast"),a=new c(r);n.addEventListener("submit",async s=>{s.preventDefault();const t=document.getElementById("email").value;console.log("Submitting form with email:",t);try{const e=await fetch("http://localhost:81/research-center/request-password-reset/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(console.log("Response status:",e.status),e.ok)console.log("Request successful, showing toast"),a.show();else{const o=await e.json();console.error("Error response:",o),alert(`Error: ${o.detail||"Failed to send reset link."}`)}}catch(e){console.error("Network or other error:",e),alert("An error occurred while trying to send the reset link. Please try again later.")}})});
