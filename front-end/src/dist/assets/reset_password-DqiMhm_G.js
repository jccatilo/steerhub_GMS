import{C as s}from"./gms_config-DEWirCIn.js";import"./bootstrap.esm-D_59DZ1Y.js";document.addEventListener("DOMContentLoaded",function(){const r=document.getElementById("resetPasswordForm"),e=document.getElementById("message"),o=new URLSearchParams(window.location.search).get("token");if(!o){e.textContent="Invalid or missing token.";return}r.addEventListener("submit",async function(a){a.preventDefault();const c=document.getElementById("newPassword").value;try{const t=`${s.API_URL}:${s.API_PORT}/users/reset-password`;console.log("API URL:",t);const n=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,new_password:c})});if(n.ok)e.textContent="Password successfully changed!",setTimeout(()=>{window.location.href="http://localhost:8080/"},3e3);else{const d=await n.json();e.textContent=`Error: ${d.detail}`}}catch(t){e.textContent=`An error occurred: ${t.message}`}})});
